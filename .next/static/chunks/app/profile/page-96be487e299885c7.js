(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{90:function(e,t,r){Promise.resolve().then(r.bind(r,778))},5825:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthContextProvider:function(){return i},UserAuth:function(){return c}});var n=r(9268),o=r(6006),a=r(4734),s=r(8706);let u=(0,o.createContext)(),i=e=>{let{children:t}=e,[r,i]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let e=(0,a.Aj)(s.I8,e=>{i(e)});return()=>e()},[r]),(0,n.jsx)(u.Provider,{value:{user:r,googleSignIn:()=>{let e=new a.hJ;(0,a.rh)(s.I8,e)},logOut:()=>{(0,a.w7)(s.I8)}},children:t})},c=()=>(0,o.useContext)(u)},8706:function(e,t,r){"use strict";r.d(t,{Az:function(){return f},I8:function(){return i},Rs:function(){return p},_5:function(){return h},_o:function(){return d},cT:function(){return g}});var n=r(1313),o=r(4734),a=r(6936),s=r(4202);let u=(0,n.ZF)({apiKey:"AIzaSyD7ovwAAFJ-UTHmTQBuQWczVr0iyqftsj4",authDomain:"data-bounty-9a821.firebaseapp.com",projectId:"data-bounty-9a821",storageBucket:"data-bounty-9a821.appspot.com",messagingSenderId:"704526138200",appId:"1:704526138200:web:1a89ea4b894342754a832d"}),i=(0,o.v0)(u),c=(0,a.ad)(u),l=(0,s.cF)(u),d=async e=>{try{let t=(0,a.hJ)(c,"bounties");e={...e,createdBy:i.currentUser.uid,name:i.currentUser.displayName};let r=await (0,a.ET)(t,e);return console.log("Bounty added with ID: ",r.id),r.id}catch(e){throw console.error("Error adding bounty: ",e.message),e}},h=async()=>{try{let e=(0,a.hJ)(c,"bounties"),t=await (0,a.PL)(e),r=t.docs.map(e=>({id:e.id,...e.data()}));return console.log("Bounties: ",r),r}catch(e){throw console.error("Error getting bounties: ",e.message),e}},f=async e=>{try{let t=await (0,a.QT)((0,a.JU)(c,"bounties",e));if(t.exists())return console.log("Bounty data: ",t.data()),{id:t.id,...t.data()};return console.log("No such bounty!"),null}catch(e){throw console.error("Error getting bounty: ",e.message),e}},g=async e=>{try{let t=(0,s.iH)(l,"csv-files/".concat(i.currentUser.uid,"/").concat(e.name)),r=(0,s.B0)(t,e),n=await r;return console.log("Uploaded a blob or file!",n),n.ref.fullPath}catch(e){throw console.error("Error uploading file: ",e.message),e}},p=async e=>{try{let t=(0,a.hJ)(c,"datasets");e={...e,uploadedBy:i.currentUser.uid,uploadedAt:new Date};let r=await (0,a.ET)(t,e);return console.log("Dataset added with ID: ",r.id),r.id}catch(e){throw console.error("Error adding dataset: ",e.message),e}}},778:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(9268),o=r(6006),a=r(5825),s=r(6394),u=r.n(s),i={src:"/_next/static/media/spinner.3ed2ce77.gif",height:200,width:200,blurWidth:0,blurHeight:0},c=()=>(0,n.jsx)("div",{className:"w-full h-screen flex items-center justify-center",children:(0,n.jsx)(u(),{src:i,alt:"loading.."})}),l=()=>{let{user:e}=(0,a.UserAuth)(),[t,r]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let e=async()=>{await new Promise(e=>setTimeout(e,50)),r(!1)};e()},[e]),(0,n.jsx)("div",{className:"absolute mt-20 p-4",children:t?(0,n.jsx)(c,{}):e?(0,n.jsxs)("p",{children:["Welcome, ",e.displayName," - you are logged in to the profile page - a protected route."]}):(0,n.jsx)("p",{children:"You must be logged in to view this page - protected route."})})}}},function(e){e.O(0,[662,913,492,394,253,769,744],function(){return e(e.s=90)}),_N_E=e.O()}]);